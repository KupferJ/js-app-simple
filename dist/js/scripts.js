let pokemonRepository=function(){let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=151";function n(e){o();let t=e.detailsUrl;return fetch(t).then(function(e){return i(),e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=[];for(var n=0;n<t.types.length;n++)e.types.push(t.types[n].type.name)}).catch(function(e){i(),console.error(e)})}function o(){document.querySelector("#loading-spinner").classList.add("visibility")}function i(){document.querySelector("#loading-spinner").classList.remove("visibility")}return $(document).ready(function(){$("#pokemon-search").on("keyup",function(){let e=$(this).val().toLowerCase();$(".search-pkm-btn").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(e)>-1)})})}),{getAll:function(){return e},addListItem:function(e){let t=document.querySelector(".pokemon-list"),o=document.createElement("button");o.innerText=e.name,o.classList.add("text-center","text-uppercase","btn","btn-outline-secondary","btn-pk","search-pkm-btn"),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#poke-Modal"),t.appendChild(o),function(e,t){e.addEventListener("click",function(){!function(e){n(e).then(function(){!function(e){let t=$(".modal-title"),n=$(".modal-body");t.empty(),n.empty();let o=$('<h1 class="text-uppercase">'+e.name+"</h1>");t.append(o);let i=document.createElement("img");i.classList.add("modal-img"),i.src=e.imageUrl;let c=$("<p>Height: "+e.height+"</p>"),a=$("<p>Weight: "+e.weight+"</p>"),r=e.types,s=$("<p>Type: "+r.join(", ")+"</p>");n.append(i),n.append(c),n.append(a),n.append(s)}(e)})}(t)})}(o,e),n(e).then(function(){let t=document.createElement("div"),n=document.createElement("img");n.src=e.imageUrl,n.classList.add("pokemon-image"),t.appendChild(n),o.appendChild(t)})},loadList:function(){return o(),fetch(t).then(function(e){return i(),e.json()}).then(function(t){t.results.forEach(function(t){!function(t){e.push(t)}({name:t.name,detailsUrl:t.url})})}).catch(function(e){i(),console.error(e)})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});